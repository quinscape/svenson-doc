# Svenson-doc

svenson-doc is a markdown documentation generator for svenson JSON classes.

It can be used as maven dependency but there's also a "uber" jar.

## Usage with maven

Here's an example how to start the executable with exec:java 

```xml
    <build>
        <plugins>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>exec-maven-plugin</artifactId>
                <version>1.5.0</version>
                <executions>
                    <execution>
                        <id>generate-json-docs</id>
                        <goals>
                            <goal>java</goal>
                        </goals>
                        <phase>prepare-package</phase>
                    </execution>
                </executions>
                <configuration>
                    <mainClass>de.quinscape.svensondoc.SvensonDocGenerator</mainClass>
                    <arguments>

                        <!-- location of JSON config file -->
                        <argument>--config</argument>
                        <argument>${project.basedir}/svenson-doc.json</argument>

                        <!-- java source files -->
                        <argument>--source</argument>
                        <argument>${project.basedir}/src/main/java</argument>

                        <!-- output directory -->
                        <argument>--output</argument>
                        <argument>${project.basedir}</argument>

                        <!-- base directory for hand-written markdown snippets -->
                        <argument>--snippets</argument>
                        <argument>${project.basedir}/src/docs/md</argument>
                    </arguments>
                </configuration>
            </plugin>

        </plugins>
    </build>

```                                                         
Here we configure svenson-doc to use a configuration file in the project root called `svenson-doc.json`. We configure
the normal maven java source path to extra Javadoc from and we set the output directory to project
base directory, which is useful if you want to auto-generate the project readme.

The snippets directory contains hand-written markdown snippets that are mixed
within the autogenerated and optionally cross-linked JSON centric POJO documentation.  

## Configuration

The configuration also happens via JSON
### SvensonDocConfig

Root node for our JSON data

property | type | description 
---------|------|-------------
shortenTitle | boolean | Whether to shorten type titles
linkReference | boolean | If true, cross-link reference. For this to work you need to define a document "reference.md" with a single content "*" to auto-generate the reference.
packages | Set of String | Java packages with JSON POJOs to document.
documents | List of [DocumentConfig](docs/reference.md#documentconfig) | List of document configuration defining the markout output documents and their contents.
shortenTypes | boolean | Whether to shorten the type names in the property tables.
## Example config

```json 
{
    "documents": [
        {
            "name": "readme.md",
            "content" : [
                "readme-start.md",
                "de.quinscape.svensondoc.model.SvensonDocConfig",
                "config-example.md"
            ]
        },
        {
            "name": "docs/reference.md",
            "content" : [
                "*"
            ]
        }
    ],

    "packages": [
        "de.quinscape.svensondoc.model"
    ],

    "shortenTitle": true,
    "shortenTypes": true,
    "linkReference" : true
}
```

The `svenson-doc.json` to generate this readme and the reference linked to it.
